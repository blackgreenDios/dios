<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>주문 배송 조회</title>
  <th:block th:replace="~{fragments/commonHead :: common}"></th:block>
  <script defer th:src="@{/member/resources/scripts/myPageDeliveryCheck.js}"></script>
  <link rel="stylesheet" th:href="@{/resources/stylesheets/commonMyPage.css}">

  <link rel="stylesheet" th:href="@{/member/resources/stylesheets/myPageDeliveryCheck.css
    }">
  <script defer th:src="@{/resources/scripts/commonMyPage.js}"></script>
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body th:if="${session.user != null}">
<th:block th:replace="~{fragments/commonBody :: header}"></th:block>

<th:block th:replace="~{fragments/commonBody :: cover}"></th:block>
<main class="--main main" th:if="${session.user != null}">
  <form class="form" id="form">
    <div class="title-container">
      <h1 class="title">마이페이지</h1>
    </div>
    <div class="myPage-main">
      <th:block th:replace="~{fragments/commonMyPage :: menu}"></th:block>
      <div class="content">
        <h2 class="title">주문/배송 조회</h2>

        <ul class="myPage-check">
          <li>
            <em class="num">0</em>
            <span class="text">주문접수</span>
          </li>
          <em class="next"> > </em>
          <li>
            <em class="num"> 0 </em>
            <span class="text">결제완료</span>
          </li>
          <em class="next"> > </em>
          <li>
            <em class="num" th:text="${before}">0</em>
            <span class="text">배송준비중</span>
          </li>
          <em class="next"> > </em>
          <li>
            <em class="num" th:text="${doing}">0</em>
            <span class="text">배송중</span>
          </li>
          <em class="next"> > </em>
          <li>
            <em class="num on" th:text="${complete}">2</em>
            <span class="text">배송완료</span>
          </li>
        </ul>

        <!--                <div class="buy-list">-->
        <!--                    <div class="select-content">-->
        <!--                        <p class="title">구매유형</p>-->
        <!--                        <ul class="select-type">-->
        <!--                            <li>-->
        <!--                                <button type="button" class="on">전체</button>-->
        <!--                            </li>-->
        <!--                        </ul>-->
        <!--                    </div>-->

        <!--                    <div class="select-month">-->
        <!--                        <p class="title">구매기간</p>-->
        <!--                        <ul>-->
        <!--                            <li>-->
        <!--                                <button type="button" name="one" class="on">1개월</button>-->
        <!--                                <button type="button" name="three" >3개월</button>-->
        <!--                                <button type="button" name="six" >6개월</button>-->
        <!--                            </li>-->
        <!--                        </ul>-->
        <!--                    </div>-->
        <!--                    <div class="select-range">-->
        <!--                        <select id="cal-start-year" title="년도를 선택하세요" style="width:76px;">-->
        <!--                            <option value="2019">2019</option>-->
        <!--                            <option value="2020">2020</option>-->
        <!--                            <option value="2021">2021</option>-->
        <!--                            <option value="2022" selected="selected">2022</option>-->
        <!--                            <option value="2023">2023</option>-->
        <!--                        </select>-->
        <!--                        <label for="cal-start-year">년</label>-->
        <!--                        <select id="cal-start-month" title="달월을 선택하세요" style="width:60px;">-->
        <!--                            <option value="01">1</option>-->
        <!--                            <option value="02">2</option>-->
        <!--                            <option value="03">3</option>-->
        <!--                            <option value="04">4</option>-->
        <!--                            <option value="05">5</option>-->
        <!--                            <option value="06">6</option>-->
        <!--                            <option value="07">7</option>-->
        <!--                            <option value="08">8</option>-->
        <!--                            <option value="09">9</option>-->
        <!--                            <option value="10">10</option>-->
        <!--                            <option value="11">11</option>-->
        <!--                            <option value="12" selected="selected">12</option>-->
        <!--                        </select>-->
        <!--                        <label for="cal-start-month">월</label>-->
        <!--                        <select id="cal-start-day" title="날일을 선택하세요" style="width:60px;">-->
        <!--                            <option value="01">1</option>-->
        <!--                            <option value="02">2</option>-->
        <!--                            <option value="03">3</option>-->
        <!--                            <option value="04">4</option>-->
        <!--                            <option value="05">5</option>-->
        <!--                            <option value="06" selected="selected">6</option>-->
        <!--                            <option value="07">7</option>-->
        <!--                            <option value="08">8</option>-->
        <!--                            <option value="09">9</option>-->
        <!--                            <option value="10">10</option>-->
        <!--                            <option value="11">11</option>-->
        <!--                            <option value="12">12</option>-->
        <!--                            <option value="13">13</option>-->
        <!--                            <option value="14">14</option>-->
        <!--                            <option value="15">15</option>-->
        <!--                            <option value="16">16</option>-->
        <!--                            <option value="17">17</option>-->
        <!--                            <option value="18">18</option>-->
        <!--                            <option value="19">19</option>-->
        <!--                            <option value="20">20</option>-->
        <!--                            <option value="21">21</option>-->
        <!--                            <option value="22">22</option>-->
        <!--                            <option value="23">23</option>-->
        <!--                            <option value="24">24</option>-->
        <!--                            <option value="25">25</option>-->
        <!--                            <option value="26">26</option>-->
        <!--                            <option value="27">27</option>-->
        <!--                            <option value="28">28</option>-->
        <!--                            <option value="29">29</option>-->
        <!--                            <option value="30">30</option>-->
        <!--                            <option value="31">31</option>-->
        <!--                        </select>-->
        <!--                        <label for="cal-start-day">일</label>-->
        <!--                        <span class="des">~</span>-->
        <!--                        <select id="cal-end-year" title="년도를 선택하세요" style="width:76px;">-->
        <!--                            <option value="2012">2012</option>-->
        <!--                            <option value="2013">2013</option>-->
        <!--                            <option value="2014">2014</option>-->
        <!--                            <option value="2015">2015</option>-->
        <!--                            <option value="2016">2016</option>-->
        <!--                            <option value="2017">2017</option>-->
        <!--                            <option value="2018">2018</option>-->
        <!--                            <option value="2019">2019</option>-->
        <!--                            <option value="2020">2020</option>-->
        <!--                            <option value="2021">2021</option>-->
        <!--                            <option value="2022">2022</option>-->
        <!--                            <option value="2023" selected="selected">2023</option>-->
        <!--                        </select>-->
        <!--                        <label for="cal-end-year">년</label>-->
        <!--                        <select id="cal-end-month" title="달월을 선택하세요" style="width:60px;">-->
        <!--                            <option value="01" selected="selected">1</option>-->
        <!--                            <option value="02">2</option>-->
        <!--                            <option value="03">3</option>-->
        <!--                            <option value="04">4</option>-->
        <!--                            <option value="05">5</option>-->
        <!--                            <option value="06">6</option>-->
        <!--                            <option value="07">7</option>-->
        <!--                            <option value="08">8</option>-->
        <!--                            <option value="09">9</option>-->
        <!--                            <option value="10">10</option>-->
        <!--                            <option value="11">11</option>-->
        <!--                            <option value="12">12</option>-->
        <!--                        </select>-->
        <!--                        <label for="cal-end-month">월</label>-->
        <!--                        <select id="cal-end-day" title="날일을 선택하세요" style="width:60px;">-->
        <!--                            <option value="01">1</option>-->
        <!--                            <option value="02">2</option>-->
        <!--                            <option value="03">3</option>-->
        <!--                            <option value="04">4</option>-->
        <!--                            <option value="05">5</option>-->
        <!--                            <option value="06" selected="selected">6</option>-->
        <!--                            <option value="07">7</option>-->
        <!--                            <option value="08">8</option>-->
        <!--                            <option value="09">9</option>-->
        <!--                            <option value="10">10</option>-->
        <!--                            <option value="11">11</option>-->
        <!--                            <option value="12">12</option>-->
        <!--                            <option value="13">13</option>-->
        <!--                            <option value="14">14</option>-->
        <!--                            <option value="15">15</option>-->
        <!--                            <option value="16">16</option>-->
        <!--                            <option value="17">17</option>-->
        <!--                            <option value="18">18</option>-->
        <!--                            <option value="19">19</option>-->
        <!--                            <option value="20">20</option>-->
        <!--                            <option value="21">21</option>-->
        <!--                            <option value="22">22</option>-->
        <!--                            <option value="23">23</option>-->
        <!--                            <option value="24">24</option>-->
        <!--                            <option value="25">25</option>-->
        <!--                            <option value="26">26</option>-->
        <!--                            <option value="27">27</option>-->
        <!--                            <option value="28">28</option>-->
        <!--                            <option value="29">29</option>-->
        <!--                            <option value="30">30</option>-->
        <!--                            <option value="31">31</option>-->
        <!--                        </select>-->
        <!--                        <label for="cal-end-day">일</label>-->
        <!--                    </div>-->

        <!--                    <button type="button" class="btnLookup" id="do-search-period">조회</button>-->
        <!--                </div>-->


        <table class="board-list">
          <colgroup>
            <col style="width:17%;">
            <col style="width:0%;">
            <col style="width:8%;">
            <col style="width:130px;">
            <col style="width:110px;">
          </colgroup>
          <thead>
          <tr>
            <th scope="col">주문일자</th>
            <th scope="col">상품</th>
            <th scope="col">수량</th>
            <th scope="col">주문금액</th>
            <th scope="col">상태</th>
          </tr>
          </thead>
          <tbody class="history" id="orderContainer">
          <tr th:each="order: ${orders}">
            <input name="orderNum" type="hidden" th:value="${order.getOrderNum()}">
            <td rowspan="1" class="first">
              <ul>
                <li>
                  <span class="store-address">DIOS</span>
                  <br>
                </li>
                <li class="order-date" th:text="${#dates.format(order.getOrderDate(),'yyyy-MM-dd')}">
                  2022.01.01
                </li>
                <li>
                  <a th:href="@{/dios/myPageDeliveryCheckDetail(orderNum = ${order.getOrderNum()})}"
                     class="btn-detail">
                    상세보기
                  </a>
                </li>
              </ul>
            </td>

            <td class="subject">
              <div class="area">
                <a class="pro-photo" th:href="@{/goods/read (gid=${order.getItemIndex()})}">
                  <img th:src="@{'/goods/titleImage?index='+${order.getItemIndex()}}" alt="">
                </a>
                <div class="pro-text">
                  <a href="#">
                    <span class="title" th:text="${order.getStoreName()}"></span>
                    <span class="text" th:text="${order.getItemName()}">나이키 반바지</span>
                  </a>

                  <span class="colorSize">
                                        <i class="title">옵션
                                        </i>
                                        <a th:text="${order.getOrderColor()}"
                                        ></a>,
                                        <a th:text="${order.getOrderSize()}"></a>
                                    </span>

                </div>
              </div>
            </td>

            <td class="count" th:text="${order.getCount()}"> 1</td>

            <td class="buy-money">
              <strong th:text="${order.getPriceCnt()}">54,000</strong> 원
            </td>

            <td>
              <strong th:text="${order.getStatus()}">구매완료</strong>
            </td>
          </tr>


          </tbody>
        </table>

        <tfoot>
        <tr>
          <td colspan="6">
            <div class="page-container"
                 th:with="urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder).fromCurrentRequest()}">
              <a class="page"
                 th:href="@{${urlBuilder.replaceQueryParam('page',paging.minPage).build().toUriString()}}"
                 th:if="${paging.requestPage > 1}">
                <i class="fa-solid fa-angles-left"></i>
              </a>
              <a class="page"
                 th:href="@{${urlBuilder.replaceQueryParam('page', paging.requestPage - 1).build().toUriString()}}"
                 th:if="${paging.requestPage > 1}">
                <i class="fa-solid fa-angle-left"></i>
              </a>
              <a class="page"
                 th:each="page:${#numbers.sequence(paging.startPage,paging.endPage)}"
                 th:class="${'page ' + (page == paging.requestPage ? 'selected' : '')}"
                 th:text="${page}"
                 th:href="@{${urlBuilder.replaceQueryParam('page',page).build().toUriString()}}"></a>

              <a class="page"
                 th:href="@{${urlBuilder.replaceQueryParam('page',paging.requestPage + 1).build().toUriString()}}"
                 th:if="${paging.requestPage < paging.maxPage}">
                <i class="fa-solid fa-angle-right"></i>
              </a>

              <a class="page"
                 th:href="@{${urlBuilder.replaceQueryParam('page',paging.maxPage).build().toUriString()}}"
                 th:if="${paging.requestPage < paging.maxPage}">
                <i class="fa-solid fa-angles-right"></i>
              </a>
            </div>
          </td>
        </tr>
        </tfoot>
      </div>


    </div>
  </form>
</main>
<th:block th:replace="~{fragments/commonBody :: footer}"></th:block>
</body>
</html>